<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name = "viewport" content= "width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>discover</title>
        <link rel="stylesheet" href="css/main.css">
    </head>

    <body>
        <h2 style="position: absolute">The <span style="color:#f05454">Mixtape</span> Library</h2>
        <div class="container">
            <a id="one" href="finalpage3.html">1</a>
            <a id="two" href="finalpage2.html">2</a>
            <a id="three" href="finalpage.html">3</a>
        </div>
        <div class="container2">
            <a id="four" href="finalpage4.html">4</a> 
            <a id="five" href="finalpage5.html">5</a>
            <a id="six" href="finalpage6.html">6</a>
        </div>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r125/three.js"> </script>
        <script src="java/obj.js"> </script>
        <script src="java/mtl.js"> </script>
        <script src = "OrbitControls.js"></script> 
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.1/TweenMax.min.js"></script> <!--green sock animaation plugin-->


        <script>
            //SCENE
            var scene = new THREE.Scene();

            //CAMERA
            var camera = new THREE.PerspectiveCamera (45, window.innerWidth/window.innerHeight, 1, 3000); 
            camera.position.z = 900; 
            //camera.position.x = 400;
            //camera.position.y = 100;

            var renderer = new THREE.WebGLRenderer ({anitalias: true, alpha: true});
            renderer.setClearColor("#e8e8e8");
            renderer.setSize (window.innerWidth, window.innerHeight);

            document.body.appendChild (renderer.domElement);
            
            window.addEventListener ("resize", () =>{
                renderer.setSize(window.innerWidth, window.innerHeight);
                camera.aspect =  window.innerWidth/window.innerHeight;
                camera.updateProjectionMatrix();
            })
            
            //RAYCASTER - to define position of mouse
            var  raycaster = new THREE.Raycaster();
            var mouse = new THREE.Vector2();

            //LIGHT
            var light2 = new THREE.AmbientLight (0xffffff, 0.9); //flood entire scene with light
            scene.add(light2)

            var light = new THREE.PointLight (0xFFFFFF, 0.7, 1000); //color, intensity,distance
            light.position.set (200,100,0)
            scene.add(light);

            //CASSETTE
            var mojobj;

                var mtlLoader = new THREE.MTLLoader();
                mtlLoader.load ('cassettetape/cassettetape.mtl', function(materials){


                materials.preload();

                var objLoader = new THREE.OBJLoader();
                objLoader.setMaterials(materials);
                objLoader.load('cassettetape/cassettetape.obj', function(object){
                    scene.add(object);
                        mojobj = object;
                        object.position.z = -500;
                        object.position.x = 500;

                    });
                })

            var mojobj1;

                var mtlLoader = new THREE.MTLLoader();
                mtlLoader.load ('cassettetape3/cassettetape3.mtl', function(materials){
                
                
                materials.preload();
                
                var objLoader = new THREE.OBJLoader();
                objLoader.setMaterials(materials);
                objLoader.load('cassettetape3/cassettetape3.obj', function(object1){
                    scene.add(object1);
                        mojobj1 = object1;
                        object1.position.z = -500;
                        object1.position.x = 0;
                
                    });
                }) 

                var mojobj2;

                    var mtlLoader = new THREE.MTLLoader();
                    mtlLoader.load ('cassettetape2/cassettetape2.mtl', function(materials){
                    
                    
                    materials.preload();
                    
                    var objLoader = new THREE.OBJLoader();
                    objLoader.setMaterials(materials);
                    objLoader.load('cassettetape2/cassettetape2.obj', function(object2){
                        scene.add(object2);
                            mojobj2 = object2;
                            object2.position.z = -500;
                            object2.position.x = -500;
                    
                        });
                    })

                    var mojobj3;

                        var mtlLoader = new THREE.MTLLoader();
                        mtlLoader.load ('cassettetape5/cassettetape5.mtl', function(materials){
                        
                        
                        materials.preload();
                        
                        var objLoader = new THREE.OBJLoader();
                        objLoader.setMaterials(materials);
                        objLoader.load('cassettetape5/cassettetape5.obj', function(object3){
                            scene.add(object3);
                                mojobj3 = object3;
                                object3.position.z = -500;
                                object3.position.x = -500;
                                object3.position.y = -400;
                        
                            });
                        }) 
                        var mojobj4;

                            var mtlLoader = new THREE.MTLLoader();
                            mtlLoader.load ('cassettetape4/cassettetape4.mtl', function(materials){
                            
                            
                            materials.preload();
                            
                            var objLoader = new THREE.OBJLoader();
                            objLoader.setMaterials(materials);
                            objLoader.load('cassettetape4/cassettetape4.obj', function(object4){
                                scene.add(object4);
                                    mojobj4 = object4;
                                    object4.position.z = -500;
                                    object4.position.x = 0;
                                    object4.position.y = -400;
                            
                                });
                            })
                        var mojobj5;

                            var mtlLoader = new THREE.MTLLoader();
                            mtlLoader.load ('cassettetape6/cassettetape6.mtl', function(materials){
                            
                            
                            materials.preload();
                            
                            var objLoader = new THREE.OBJLoader();
                            objLoader.setMaterials(materials);
                            objLoader.load('cassettetape6/cassettetape6.obj', function(object5){
                                scene.add(object5);
                                    mojobj5 = object5;
                                    object5.position.z = -500;
                                    object5.position.x = 500;
                                    object5.position.y = -400;
                            
                                });
                            }) 

            function onMouseMove(event){
                event.preventDefault();

                mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;
                mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;
                
                raycaster.setFromCamera(mouse, camera);

                var intersects = raycaster.intersectObjects(scene.children, true);
                for(var i = 0; i<intersects.length; i++){
                    //window.location = intersects[0].object.userData.URL;
                    //intersects[0].object.material.color.set(0xff770)
                    //this.tl = new TimelineMax();
                    //this.tl.from(intersects[i].object.position, 1, {x:20, ease: Expo.easeOut}) //this is to animate it
                    //this.tl.from(intersects[i].object.rotation, 2, {y: Math.PI*0.7, ease: Expo.easeOut})
                }
            }

            var render = function(){
                requestAnimationFrame(render);//pauses when user goes to a new browser tab
                mojobj.rotation.y += 0.01;
                mojobj1.rotation.y += 0.02;
                mojobj2.rotation.y += 0.015;
                mojobj3.rotation.y += 0.02;
                mojobj4.rotation.y += 0.01;
                mojobj5.rotation.y += 0.015;

                //window.addEventListener("mousemove",onMouseMove);

                renderer.render(scene, camera);
            }

            render();
        </script>
    </body>
</html>

